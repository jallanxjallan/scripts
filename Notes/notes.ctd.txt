F STRING FROM VARIABLE
# use fstring on variable instead of literal
text = eval(f'f"""{variable}"""')

TITLE EXTRACT PATTERN
pat = re.compile(r'([A-Z].*)(\s|$)')

meta = next((yaml.load_all(infile)), None) 
    ...:         try:         
    ...:             title = pat.search(meta['pub']).group(1) 
    ...:         except TypeError: 
    ...:             continue 
    ...:         print(meta['pub'].replace(title, f'*{title}*')) 


METADATA LOADER
meta = next((yaml.load_all(infile, Loader=yaml.FullLoader)), None)

RANDOM SIDE CONTENT
Use this to select a random blurb for the books list

def get_random_side_content(self, model):
    try:
        from sqlalchemy import func
        return self.db.query(side_content) \
            .filter(side_content.model == model) \
            .filter('blurb' in side_content.tags) \
            .order_by(func.rand()) \
            .limit(1) \
            .one()
    except Exception:
        return None

RE SUB WITH FUNCTION
def hello_world(a): 
    ...:     return f'Hello World from {a.group(1)}'
    

pat = '(greetings)'

s = 'I would like to pass on greetings that i received'

    re.sub(pat, hello_world, s)  
    
    >>>'I would like to pass on Hello World from greetings that I received'

